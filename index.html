<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üî• DIGITAL MARKET | –¢–æ–≤–∞—Ä—ã –¥–ª—è –ú–∞—Ç—Ä—ë—à–∫–∞ RP</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: #0a0a0a;
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            transition: background-color 0.3s, color 0.3s;
        }
        
        body.light-theme {
            background: #f0f0f0;
            color: #333;
        }
        
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            background: 
                radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(120, 219, 226, 0.1) 0%, transparent 50%);
            animation: pulse 15s ease-in-out infinite alternate;
        }
        
        body.light-theme .bg-animation {
            background: 
                radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(120, 219, 226, 0.05) 0%, transparent 50%);
        }
        
        @keyframes pulse {
            0% { filter: hue-rotate(0deg); }
            100% { filter: hue-rotate(360deg); }
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }
        
        /* –ü–ê–ù–ï–õ–¨ –£–ü–†–ê–í–õ–ï–ù–ò–Ø */
        .control-panel {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 15px 25px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            flex-wrap: wrap;
            gap: 15px;
        }
        
        body.light-theme .control-panel {
            background: rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .theme-toggle {
            background: rgba(0, 255, 204, 0.1);
            border: 2px solid #00ffcc;
            color: #00ffcc;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
        }
        
        .theme-toggle:hover {
            background: rgba(0, 255, 204, 0.2);
            transform: translateY(-2px);
        }
        
        .music-toggle {
            background: rgba(255, 0, 204, 0.1);
            border: 2px solid #ff00cc;
            color: #ff00cc;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
        }
        
        .music-toggle:hover {
            background: rgba(255, 0, 204, 0.2);
            transform: translateY(-2px);
        }
        
        /* –ü–û–ò–°–ö */
        .search-container {
            flex: 1;
            max-width: 300px;
            position: relative;
        }
        
        .search-input {
            width: 100%;
            padding: 12px 45px 12px 20px;
            background: rgba(255, 255, 255, 0.07);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            color: white;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        body.light-theme .search-input {
            background: rgba(0, 0, 0, 0.07);
            border: 2px solid rgba(0, 0, 0, 0.1);
            color: #333;
        }
        
        .search-input:focus {
            outline: none;
            border-color: #00ffcc;
            box-shadow: 0 0 20px rgba(0, 255, 204, 0.2);
        }
        
        .search-btn {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #00ffcc;
            cursor: pointer;
            font-size: 1.2rem;
        }
        
        header {
            text-align: center;
            margin-bottom: 50px;
            padding: 30px 0;
            position: relative;
        }
        
        .neon-title {
            font-size: 3.5rem;
            background: linear-gradient(45deg, #ff00cc, #3333ff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 10px;
            text-shadow: 0 0 10px rgba(255, 0, 204, 0.5);
            animation: neonGlow 2s ease-in-out infinite alternate;
        }
        
        @keyframes neonGlow {
            from { text-shadow: 0 0 10px rgba(255, 0, 204, 0.5), 0 0 20px rgba(255, 0, 204, 0.3); }
            to { text-shadow: 0 0 20px rgba(255, 0, 204, 0.8), 0 0 30px rgba(255, 0, 204, 0.5), 0 0 40px rgba(255, 0, 204, 0.3); }
        }
        
        .subtitle {
            font-size: 1.3rem;
            color: #00ffcc;
            margin-bottom: 20px;
            position: relative;
            display: inline-block;
        }
        
        .subtitle::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, #00ffcc, transparent);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        body.light-theme .stat-card {
            background: rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            border-color: #00ffcc;
            box-shadow: 0 10px 20px rgba(0, 255, 204, 0.2);
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 204, 0.1), transparent);
            transition: left 0.5s;
        }
        
        .stat-card:hover::before {
            left: 100%;
        }
        
        .stat-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: #00ffcc;
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: white;
            margin-bottom: 5px;
        }
        
        body.light-theme .stat-number {
            color: #333;
        }
        
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }
        
        .product-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            overflow: hidden;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
        }
        
        body.light-theme .product-card {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(0, 0, 0, 0.1);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .product-card:hover {
            transform: translateY(-10px);
            border-color: #00ffcc;
            box-shadow: 0 20px 40px rgba(0, 255, 204, 0.2);
        }
        
        .product-image {
            height: 200px;
            background: linear-gradient(45deg, #ff00cc, #3333ff);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            color: white;
        }
        
        .product-content {
            padding: 25px;
        }
        
        .product-title {
            font-size: 1.5rem;
            color: #00ffcc;
            margin-bottom: 15px;
        }
        
        body.light-theme .product-title {
            color: #0077cc;
        }
        
        .product-description {
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        body.light-theme .product-description {
            color: #666;
        }
        
        .product-price {
            font-size: 2rem;
            font-weight: bold;
            color: white;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        body.light-theme .product-price {
            color: #333;
        }
        
        .product-actions {
            display: flex;
            gap: 10px;
        }
        
        .add-to-cart, .buy-now {
            flex: 1;
            padding: 15px;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .add-to-cart {
            background: linear-gradient(45deg, #ff00cc, #3333ff);
            color: white;
        }
        
        .buy-now {
            background: linear-gradient(45deg, #00ff88, #00ccff);
            color: white;
        }
        
        .add-to-cart:hover, .buy-now:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(255, 0, 204, 0.3);
        }
        
        .share-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.3s;
            backdrop-filter: blur(5px);
        }
        
        .share-btn:hover {
            background: #00ffcc;
            color: #0a0a0a;
            transform: scale(1.1);
        }
        
        .cart-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 40px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 40px;
        }
        
        body.light-theme .cart-section {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .cart-title {
            color: #00ffcc;
            font-size: 1.8rem;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        body.light-theme .cart-title {
            color: #0077cc;
        }
        
        .cart-items {
            margin-bottom: 30px;
        }
        
        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            margin-bottom: 15px;
        }
        
        body.light-theme .cart-item {
            background: rgba(0, 0, 0, 0.05);
        }
        
        .item-info h4 {
            color: #00ffcc;
            margin-bottom: 5px;
        }
        
        body.light-theme .item-info h4 {
            color: #0077cc;
        }
        
        .item-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .quantity-btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        body.light-theme .quantity-btn {
            background: rgba(0, 0, 0, 0.1);
            color: #333;
        }
        
        .remove-item {
            background: rgba(255, 0, 102, 0.2);
            border: none;
            color: #ff0066;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
        }
        
        .cart-total {
            text-align: right;
            font-size: 1.5rem;
            color: white;
            margin-bottom: 30px;
        }
        
        body.light-theme .cart-total {
            color: #333;
        }
        
        .total-amount {
            color: #00ffcc;
            font-weight: bold;
        }
        
        body.light-theme .total-amount {
            color: #0077cc;
        }
        
        .checkout-btn {
            background: linear-gradient(45deg, #00ff88, #00ccff);
            color: white;
            border: none;
            padding: 20px 40px;
            font-size: 1.2rem;
            font-weight: bold;
            border-radius: 15px;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }
        
        .checkout-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 255, 136, 0.4);
        }
        
        .checkout-btn:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        /* –ò–°–¢–û–†–ò–Ø –ó–ê–ö–ê–ó–û–í */
        .history-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 40px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        body.light-theme .history-section {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .history-item {
            padding: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        body.light-theme .history-item {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        /* –û–°–¢–ê–õ–¨–ù–´–ï –°–¢–ò–õ–ò –û–°–¢–ê–Æ–¢–°–Ø –¢–ê–ö–ò–ú–ò –ñ–ï */
        .form-container {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 40px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        body.light-theme .form-container {
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .form-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #ff00cc, #3333ff, #00ffcc);
        }
        
        .form-group {
            margin-bottom: 25px;
            position: relative;
        }
        
        label {
            display: block;
            margin-bottom: 10px;
            color: #00ffcc;
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        body.light-theme label {
            color: #0077cc;
        }
        
        input, textarea, select {
            width: 100%;
            padding: 15px 20px;
            background: rgba(255, 255, 255, 0.07);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            color: white;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        body.light-theme input,
        body.light-theme textarea,
        body.light-theme select {
            background: rgba(0, 0, 0, 0.07);
            border: 2px solid rgba(0, 0, 0, 0.1);
            color: #333;
        }
        
        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #00ffcc;
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 20px rgba(0, 255, 204, 0.2);
        }
        
        body.light-theme input:focus,
        body.light-theme textarea:focus,
        body.light-theme select:focus {
            background: rgba(0, 0, 0, 0.1);
        }
        
        .captcha-container {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        
        body.light-theme .captcha-container {
            background: rgba(0, 0, 0, 0.05);
        }
        
        .captcha-code {
            font-size: 2.5rem;
            font-weight: bold;
            letter-spacing: 10px;
            background: linear-gradient(45deg, #ff00cc, #3333ff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin: 20px 0;
            padding: 10px;
            border: 2px dashed rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            user-select: none;
        }
        
        body.light-theme .captcha-code {
            border: 2px dashed rgba(0, 0, 0, 0.2);
        }
        
        .captcha-input {
            display: flex;
            gap: 15px;
            align-items: center;
            margin-top: 15px;
        }
        
        .captcha-input input {
            flex: 1;
            text-align: center;
            font-size: 1.2rem;
            letter-spacing: 5px;
            text-transform: uppercase;
        }
        
        .refresh-captcha {
            background: rgba(0, 255, 204, 0.2);
            border: none;
            color: #00ffcc;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.3s;
        }
        
        .refresh-captcha:hover {
            background: rgba(0, 255, 204, 0.3);
            transform: rotate(180deg);
        }
        
        .captcha-error {
            color: #ff6b6b;
            font-size: 0.9rem;
            margin-top: 5px;
            display: none;
        }
        
        .loader {
            display: none;
            text-align: center;
            margin: 20px 0;
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            border-top-color: #00ffcc;
            margin: 0 auto;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            100% { transform: rotate(360deg); }
        }
        
        .confetti {
            position: fixed;
            width: 15px;
            height: 15px;
            background: #ff00cc;
            top: 0;
            opacity: 0;
            z-index: 1000;
        }
        
        footer {
            text-align: center;
            margin-top: 50px;
            padding: 30px;
            color: rgba(255, 255, 255, 0.5);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        body.light-theme footer {
            color: rgba(0, 0, 0, 0.5);
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .social-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }
        
        .social-icon {
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #00ffcc;
            font-size: 1.5rem;
            transition: all 0.3s;
            text-decoration: none;
        }
        
        body.light-theme .social-icon {
            background: rgba(0, 0, 0, 0.05);
            color: #0077cc;
        }
        
        .social-icon:hover {
            transform: translateY(-5px);
            background: #00ffcc;
            color: #0a0a0a;
        }
        
        body.light-theme .social-icon:hover {
            background: #0077cc;
            color: white;
        }
        
        .cart-count {
            background: #ff0066;
            color: white;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            position: absolute;
            top: -5px;
            right: -5px;
        }
        
        .cart-icon-wrapper {
            position: relative;
            display: inline-block;
        }
        
        @media (max-width: 768px) {
            .neon-title { font-size: 2.5rem; }
            .stats-grid { grid-template-columns: repeat(2, 1fr); }
            .products-grid { grid-template-columns: 1fr; }
            .form-container { padding: 20px; }
            .captcha-code { font-size: 2rem; letter-spacing: 5px; }
            .control-panel { flex-direction: column; align-items: stretch; }
            .search-container { max-width: 100%; }
            .product-actions { flex-direction: column; }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="bg-animation"></div>
    
    <!-- –ê–£–î–ò–û –î–õ–Ø –§–û–ù–û–í–û–ô –ú–£–ó–´–ö–ò -->
    <audio id="backgroundMusic" loop>
        <!-- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –º—É–∑—ã–∫—É -->
        <source src="https://assets.codepen.io/1468070/Arcade+-+Background+Music.mp3" type="audio/mpeg">
    </audio>
    
    <div class="container">
        <!-- –ü–ê–ù–ï–õ–¨ –£–ü–†–ê–í–õ–ï–ù–ò–Ø -->
        <div class="control-panel">
            <div class="search-container">
                <input type="text" class="search-input" id="searchInput" placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤...">
                <button class="search-btn" id="searchBtn">
                    <i class="fas fa-search"></i>
                </button>
            </div>
            
            <div style="display: flex; gap: 10px;">
                <button class="theme-toggle" id="themeToggle">
                    <i class="fas fa-moon"></i>
                    <span>–¢–µ–º–∞</span>
                </button>
                
                <button class="music-toggle" id="musicToggle">
                    <i class="fas fa-music"></i>
                    <span>–ú—É–∑—ã–∫–∞</span>
                </button>
            </div>
        </div>
        
        <header>
            <h1 class="neon-title">üî• DIGITAL MARKET</h1>
            <div class="subtitle">–¢–û–í–ê–†–´ –î–õ–Ø –ú–ê–¢–†–Å–®–ö–ê RP</div>
            <p style="color: rgba(255,255,255,0.7); margin-top: 10px;">–ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ ‚Ä¢ –ì–∞—Ä–∞–Ω—Ç–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ ‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7</p>
        </header>
        
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon"><i class="fas fa-shopping-cart"></i></div>
                <div class="stat-number" id="ordersCount">548</div>
                <div>–£—Å–ø–µ—à–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon"><i class="fas fa-users"></i></div>
                <div class="stat-number" id="clientsCount">327</div>
                <div>–î–æ–≤–æ–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon"><i class="fas fa-bolt"></i></div>
                <div class="stat-number" id="avgTime">5-15</div>
                <div>–ú–∏–Ω—É—Ç –¥–æ—Å—Ç–∞–≤–∫–∞</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon"><i class="fas fa-shield-alt"></i></div>
                <div class="stat-number">100%</div>
                <div>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–¥–µ–ª–æ–∫</div>
            </div>
        </div>
        
        <!-- –ü–û–ò–°–ö –†–ï–ó–£–õ–¨–¢–ê–¢–´ -->
        <div id="searchResults" style="display: none; margin-bottom: 30px;">
            <h3 style="color: #00ffcc; margin-bottom: 15px;">
                <i class="fas fa-search"></i> –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞:
            </h3>
            <div id="searchResultsContainer"></div>
        </div>
        
        <div class="products-grid" id="productsContainer">
            <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
        </div>
        
        <!-- –ò–°–¢–û–†–ò–Ø –ó–ê–ö–ê–ó–û–í -->
        <div class="history-section" id="historySection">
            <h2 class="cart-title">
                <i class="fas fa-history"></i> –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤
            </h2>
            <div id="orderHistory">
                <!-- –ò—Å—Ç–æ—Ä–∏—è –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
            </div>
        </div>
        
        <div class="cart-section">
            <h2 class="cart-title">
                <div class="cart-icon-wrapper">
                    <i class="fas fa-shopping-cart"></i>
                    <div class="cart-count" id="cartCount">0</div>
                </div>
                –í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞
            </h2>
            
            <div class="cart-items" id="cartItems">
                <!-- –ó–¥–µ—Å—å –±—É–¥—É—Ç —Ç–æ–≤–∞—Ä—ã –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã -->
                <p style="text-align: center; color: rgba(255,255,255,0.5); padding: 20px;">
                    –ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞. –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ –≤—ã—à–µ.
                </p>
            </div>
            
            <div class="cart-total">
                –ò—Ç–æ–≥–æ: <span class="total-amount" id="totalAmount">0</span> ‚ÇΩ
            </div>
            
            <button class="checkout-btn" id="checkoutBtn" disabled>
                <i class="fas fa-credit-card"></i> –ü–µ—Ä–µ–π—Ç–∏ –∫ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—é
            </button>
        </div>
        
        <div class="form-container" id="checkoutForm" style="display: none;">
            <h2 style="color: #00ffcc; margin-bottom: 30px; text-align: center;">
                <i class="fas fa-user-check"></i> –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
            </h2>
            
            <form id="orderForm">
                <div class="form-group">
                    <label for="nickname"><i class="fas fa-gamepad"></i> –í–∞—à –Ω–∏–∫ –≤ –∏–≥—Ä–µ</label>
                    <input type="text" id="nickname" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Serega_Melyakov" required>
                    <small style="color: rgba(255,255,255,0.5); display: block; margin-top: 5px;">–î–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∏–≥—Ä–µ</small>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="form-group">
                        <label for="telegram"><i class="fab fa-telegram"></i> –í–∞—à Telegram</label>
                        <input type="text" id="telegram" placeholder="@username –∏–ª–∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞" required>
                        <small style="color: rgba(255,255,255,0.5); display: block; margin-top: 5px;">–î–ª—è —Å–≤—è–∑–∏ –ø–æ –ø–æ–≤–æ–¥—É –∑–∞–∫–∞–∑–∞</small>
                    </div>
                    <div class="form-group">
                        <label for="phone"><i class="fas fa-phone"></i> –¢–µ–ª–µ—Ñ–æ–Ω (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                        <input type="tel" id="phone" placeholder="+7 ___ ___ __ __">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="orderDetails"><i class="fas fa-clipboard-list"></i> –°–æ—Å—Ç–∞–≤ –∑–∞–∫–∞–∑–∞</label>
                    <textarea id="orderDetails" rows="4" readonly style="background: rgba(255,255,255,0.05);"></textarea>
                </div>
                
                <div class="form-group">
                    <label><i class="fas fa-credit-card"></i> –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</label>
                    <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                        <label style="display: flex; align-items: center; gap: 5px;">
                            <input type="radio" name="payment" value="card" checked> –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞
                        </label>
                        <label style="display: flex; align-items: center; gap: 5px;">
                            <input type="radio" name="payment" value="qiwi"> QIWI
                        </label>
                        <label style="display: flex; align-items: center; gap: 5px;">
                            <input type="radio" name="payment" value="crypto"> –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞
                        </label>
                    </div>
                </div>
                
                <!-- –ö–∞–ø—á–∞ -->
                <div class="captcha-container">
                    <label><i class="fas fa-shield-alt"></i> –í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∏</label>
                    <div class="captcha-code" id="captchaText">A1B2C3</div>
                    
                    <div class="captcha-input">
                        <input type="text" id="captchaInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥" maxlength="6" required>
                        <button type="button" class="refresh-captcha" id="refreshCaptcha">
                            <i class="fas fa-redo"></i>
                        </button>
                    </div>
                    <div class="captcha-error" id="captchaError">–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥ –ø—Ä–æ–≤–µ—Ä–∫–∏</div>
                </div>
                
                <button type="submit" class="checkout-btn">
                    <i class="fas fa-rocket"></i> –ü–û–î–¢–í–ï–†–î–ò–¢–¨ –ó–ê–ö–ê–ó
                </button>
                
                <div class="loader" id="loader">
                    <div class="spinner"></div>
                    <p style="margin-top: 10px;">–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–∫–∞–∑...</p>
                </div>
                
                <button type="button" id="backToCart" style="background: transparent; border: 2px solid #00ffcc; color: #00ffcc; padding: 15px; width: 100%; border-radius: 10px; margin-top: 15px; cursor: pointer;">
                    <i class="fas fa-arrow-left"></i> –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –∫–æ—Ä–∑–∏–Ω—É
                </button>
            </form>
        </div>
        
        <footer>
            <div class="social-links">
                <a href="#" class="social-icon"><i class="fab fa-telegram"></i></a>
                <a href="#" class="social-icon"><i class="fab fa-vk"></i></a>
                <a href="#" class="social-icon"><i class="fab fa-discord"></i></a>
                <a href="#" class="social-icon"><i class="fas fa-envelope"></i></a>
            </div>
            <p>¬© 2024 DIGITAL MARKET. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            <p style="font-size: 0.9rem; margin-top: 10px; color: rgba(255,255,255,0.3);">
                <i class="fas fa-shield-alt"></i> –í—Å–µ —Å–¥–µ–ª–∫–∏ –∑–∞—â–∏—â–µ–Ω—ã. –ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –¥–∞–Ω–Ω—ã–µ —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º.
            </p>
        </footer>
    </div>

    <script>
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
        const BOT_TOKEN = '8516581985:AAFtSS4IUUXbO2NdYQAxZ0Uon3qyOWqXddk';
        const YOUR_CHAT_ID = '7190496660';
        
        // –¢–æ–≤–∞—Ä—ã
        const products = [
            { 
                id: 1, 
                name: "–ê–∫–∫–∞—É–Ω—Ç Gmail", 
                price: 50, 
                quantity: 0,
                description: "–ù–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç Google/Gmail. –ü–æ–ª–Ω–æ—Å—Ç—å—é —á–∏—Å—Ç—ã–π, —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –ø–æ—á—Ç–æ–≤—ã–º —è—â–∏–∫–æ–º. –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞.",
                icon: "fas fa-envelope",
                color: "linear-gradient(45deg, #ff6b6b, #ffa726)"
            },
            { 
                id: 2, 
                name: "1,000,000 –¥–ª—è –ú–∞—Ç—Ä—ë—à–∫–∞ RP", 
                price: 120, 
                quantity: 0,
                description: "1 –º–∏–ª–ª–∏–æ–Ω –∏–≥—Ä–æ–≤–æ–π –≤–∞–ª—é—Ç—ã –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞ –ú–∞—Ç—Ä—ë—à–∫–∞ RP. –ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ 5-15 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã.",
                icon: "fas fa-coins",
                color: "linear-gradient(45deg, #4ecdc4, #44a08d)"
            },
            { 
                id: 3, 
                name: "–û–±–∑–≤–æ–Ω –Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞", 
                price: 100, 
                quantity: 0,
                description: "–£—Å–ª—É–≥–∞ –æ–±–∑–≤–æ–Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Å–µ—Ä–≤–µ—Ä–∞. –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ –ø—Ä—è–º–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏.",
                icon: "fas fa-phone-alt",
                color: "linear-gradient(45deg, #8e2de2, #4a00e0)"
            }
        ];
        
        // –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–∞–ø—á–∏
        function generateCaptcha() {
            const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
            let captcha = '';
            for (let i = 0; i < 6; i++) {
                captcha += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return captcha;
        }
        
        let currentCaptcha = generateCaptcha();
        let isMusicPlaying = false;
        let isLightTheme = false;
        
        // –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ü–†–û–î–£–ö–¢–û–í
        function renderProducts() {
            const container = document.getElementById('productsContainer');
            container.innerHTML = '';
            
            products.forEach(product => {
                const productHTML = `
                    <div class="product-card" data-product-id="${product.id}">
                        <button class="share-btn" data-product="${product.id}" title="–ü–æ–¥–µ–ª–∏—Ç—å—Å—è">
                            <i class="fas fa-share-alt"></i>
                        </button>
                        <div class="product-image" style="background: ${product.color};">
                            <i class="${product.icon}"></i>
                        </div>
                        <div class="product-content">
                            <h3 class="product-title">${product.name}</h3>
                            <p class="product-description">${product.description}</p>
                            <div class="product-price">
                                <i class="fas fa-tag"></i>
                                <span>${product.price} ‚ÇΩ</span>
                            </div>
                            <div class="product-actions">
                                <button class="add-to-cart" data-id="${product.id}">
                                    <i class="fas fa-cart-plus"></i> –í –∫–æ—Ä–∑–∏–Ω—É
                                </button>
                                <button class="buy-now" data-id="${product.id}">
                                    <i class="fas fa-bolt"></i> –ö—É–ø–∏—Ç—å —Å–µ–π—á–∞—Å
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                container.innerHTML += productHTML;
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∞
            document.querySelectorAll('.add-to-cart').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = parseInt(this.dataset.id);
                    addToCart(id);
                });
            });
            
            document.querySelectorAll('.buy-now').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = parseInt(this.dataset.id);
                    buyNow(id);
                });
            });
            
            document.querySelectorAll('.share-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const productId = this.dataset.product;
                    shareProduct(productId);
                });
            });
        }
        
        // –§–£–ù–ö–¶–ò–ò
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (product) {
                product.quantity++;
                updateCart();
                saveCartToStorage();
                showNotification(`‚úÖ "${product.name}" –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É`, 'success');
            }
        }
        
        function buyNow(productId) {
            const product = products.find(p => p.id === productId);
            if (product) {
                // –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ–≤–∞—Ä –≤ –∫–æ—Ä–∑–∏–Ω—É
                product.quantity = 1;
                updateCart();
                saveCartToStorage();
                
                // –°—Ä–∞–∑—É –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—é
                document.getElementById('checkoutBtn').click();
                showNotification(`üöÄ –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—é "${product.name}"`, 'success');
            }
        }
        
        function shareProduct(productId) {
            const product = products.find(p => p.id === productId);
            if (product) {
                const shareText = `–°–º–æ—Ç—Ä–∏ –∫–∞–∫–æ–π —Ç–æ–≤–∞—Ä –Ω–∞—à–µ–ª: ${product.name} –∑–∞ ${product.price}‚ÇΩ!`;
                const shareUrl = window.location.href;
                
                if (navigator.share) {
                    navigator.share({
                        title: product.name,
                        text: shareText,
                        url: shareUrl
                    });
                } else {
                    // –ö–æ–ø–∏—Ä—É–µ–º –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
                    navigator.clipboard.writeText(`${shareText} ${shareUrl}`);
                    showNotification('üîó –°—Å—ã–ª–∫–∞ –Ω–∞ —Ç–æ–≤–∞—Ä —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä!', 'success');
                }
            }
        }
        
        // –ü–û–ò–°–ö –¢–û–í–ê–†–û–í
        function searchProducts(query) {
            const resultsContainer = document.getElementById('searchResultsContainer');
            const resultsSection = document.getElementById('searchResults');
            
            if (!query.trim()) {
                resultsSection.style.display = 'none';
                return;
            }
            
            const searchQuery = query.toLowerCase();
            const filteredProducts = products.filter(product => 
                product.name.toLowerCase().includes(searchQuery) || 
                product.description.toLowerCase().includes(searchQuery)
            );
            
            if (filteredProducts.length === 0) {
                resultsContainer.innerHTML = '<p style="text-align: center; color: rgba(255,255,255,0.5);">–¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>';
                resultsSection.style.display = 'block';
                return;
            }
            
            let resultsHTML = '';
            filteredProducts.forEach(product => {
                resultsHTML += `
                    <div class="product-card" style="margin-bottom: 20px;">
                        <div class="product-image" style="background: ${product.color}; height: 100px;">
                            <i class="${product.icon}"></i>
                        </div>
                        <div class="product-content">
                            <h4 class="product-title">${product.name}</h4>
                            <p style="color: rgba(255,255,255,0.7); margin: 10px 0;">${product.description.substring(0, 100)}...</p>
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-size: 1.5rem; font-weight: bold;">${product.price} ‚ÇΩ</span>
                                <button class="add-to-cart" data-id="${product.id}" style="padding: 10px 20px;">
                                    <i class="fas fa-cart-plus"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            resultsContainer.innerHTML = resultsHTML;
            resultsSection.style.display = 'block';
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
            resultsContainer.querySelectorAll('.add-to-cart').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = parseInt(this.dataset.id);
                    addToCart(id);
                });
            });
        }
        
        // –°–û–•–†–ê–ù–ï–ù–ò–ï –ò –ó–ê–ì–†–£–ó–ö–ê –ö–û–†–ó–ò–ù–´
        function saveCartToStorage() {
            const cartData = products.map(p => ({ id: p.id, quantity: p.quantity }));
            localStorage.setItem('digitalMarketCart', JSON.stringify(cartData));
            localStorage.setItem('cartSavedTime', Date.now());
        }
        
        function loadCartFromStorage() {
            const savedCart = localStorage.getItem('digitalMarketCart');
            if (savedCart) {
                const cartData = JSON.parse(savedCart);
                cartData.forEach(item => {
                    const product = products.find(p => p.id === item.id);
                    if (product) {
                        product.quantity = item.quantity;
                    }
                });
                updateCart();
            }
        }
        
        // –ò–°–¢–û–†–ò–Ø –ó–ê–ö–ê–ó–û–í
        function saveOrderToHistory(orderData) {
            const history = JSON.parse(localStorage.getItem('orderHistory') || '[]');
            orderData.timestamp = Date.now();
            orderData.id = 'ORD' + Date.now().toString().slice(-8);
            history.unshift(orderData); // –î–æ–±–∞–≤–ª—è–µ–º –≤ –Ω–∞—á–∞–ª–æ
            localStorage.setItem('orderHistory', JSON.stringify(history.slice(0, 10))); // –•—Ä–∞–Ω–∏–º 10 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö
            renderOrderHistory();
        }
        
        function renderOrderHistory() {
            const history = JSON.parse(localStorage.getItem('orderHistory') || '[]');
            const container = document.getElementById('orderHistory');
            
            if (history.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: rgba(255,255,255,0.5);">–ó–¥–µ—Å—å –±—É–¥—É—Ç –≤–∞—à–∏ –∑–∞–∫–∞–∑—ã</p>';
                return;
            }
            
            let historyHTML = '';
            history.forEach(order => {
                const date = new Date(order.timestamp).toLocaleString('ru-RU');
                historyHTML += `
                    <div class="history-item">
                        <div>
                            <strong>–ó–∞–∫–∞–∑ ${order.id}</strong>
                            <div style="font-size: 0.9rem; color: rgba(255,255,255,0.7); margin-top: 5px;">
                                ${date} ‚Ä¢ ${order.total} ‚ÇΩ
                            </div>
                        </div>
                        <div style="color: #00ffcc;">
                            <i class="fas fa-check-circle"></i>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = historyHTML;
        }
        
        // –û–°–¢–ê–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò –û–°–¢–ê–Æ–¢–°–Ø –ü–†–ï–ñ–ù–ò–ú–ò, –ù–û –° –î–û–ë–ê–í–õ–ï–ù–ò–ï–ú –ù–û–í–´–• –í–û–ó–ú–û–ñ–ù–û–°–¢–ï–ô
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–ø—á–∏
        function updateCaptcha() {
            currentCaptcha = generateCaptcha();
            document.getElementById('captchaText').textContent = currentCaptcha;
            document.getElementById('captchaInput').value = '';
            document.getElementById('captchaError').style.display = 'none';
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–ø—á–∏
        function validateCaptcha() {
            const userInput = document.getElementById('captchaInput').value.toUpperCase();
            if (userInput === currentCaptcha) {
                document.getElementById('captchaError').style.display = 'none';
                return true;
            } else {
                document.getElementById('captchaError').style.display = 'block';
                updateCaptcha();
                return false;
            }
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã
        function updateCart() {
            const cartItems = document.getElementById('cartItems');
            const cartCount = document.getElementById('cartCount');
            const totalAmount = document.getElementById('totalAmount');
            const checkoutBtn = document.getElementById('checkoutBtn');
            
            // –§–∏–ª—å—Ç—Ä—É–µ–º —Ç–æ–≤–∞—Ä—ã —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º > 0
            const cart = products.filter(p => p.quantity > 0);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCount.textContent = totalItems;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ–±—â—É—é —Å—É–º–º—É
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            totalAmount.textContent = total;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
            checkoutBtn.disabled = totalItems === 0;
            
            // –û—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω–µ
            if (cart.length === 0) {
                cartItems.innerHTML = '<p style="text-align: center; color: rgba(255,255,255,0.5); padding: 20px;">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞. –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ –≤—ã—à–µ.</p>';
                return;
            }
            
            let cartHTML = '';
            cart.forEach(item => {
                cartHTML += `
                    <div class="cart-item">
                        <div class="item-info">
                            <h4>${item.name}</h4>
                            <p>${item.price} ‚ÇΩ √ó ${item.quantity} —à—Ç. = ${item.price * item.quantity} ‚ÇΩ</p>
                        </div>
                        <div class="item-controls">
                            <button class="quantity-btn decrease" data-id="${item.id}">
                                <i class="fas fa-minus"></i>
                            </button>
                            <span style="min-width: 30px; text-align: center;">${item.quantity}</span>
                            <button class="quantity-btn increase" data-id="${item.id}">
                                <i class="fas fa-plus"></i>
                            </button>
                            <button class="remove-item" data-id="${item.id}">
                                <i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å
                            </button>
                        </div>
                    </div>
                `;
            });
            
            cartItems.innerHTML = cartHTML;
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –≤ –∫–æ—Ä–∑–∏–Ω–µ
            document.querySelectorAll('.decrease').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = parseInt(this.dataset.id);
                    const product = products.find(p => p.id === id);
                    if (product && product.quantity > 0) {
                        product.quantity--;
                        updateCart();
                        saveCartToStorage();
                    }
                });
            });
            
            document.querySelectorAll('.increase').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = parseInt(this.dataset.id);
                    const product = products.find(p => p.id === id);
                    if (product) {
                        product.quantity++;
                        updateCart();
                        saveCartToStorage();
                    }
                });
            });
            
            document.querySelectorAll('.remove-item').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = parseInt(this.dataset.id);
                    const product = products.find(p => p.id === id);
                    if (product) {
                        product.quantity = 0;
                        updateCart();
                        saveCartToStorage();
                    }
                });
            });
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            // –†–µ–Ω–¥–µ—Ä–∏–º —Ç–æ–≤–∞—Ä—ã
            renderProducts();
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é –∫–æ—Ä–∑–∏–Ω—É
            loadCartFromStorage();
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é –∑–∞–∫–∞–∑–æ–≤
            renderOrderHistory();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–ø—á–∏
            updateCaptcha();
            
            // –ö–Ω–æ–ø–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞–ø—á–∏
            document.getElementById('refreshCaptcha').addEventListener('click', updateCaptcha);
            
            // –ü–æ–∏—Å–∫
            document.getElementById('searchBtn').addEventListener('click', () => {
                const query = document.getElementById('searchInput').value;
                searchProducts(query);
            });
            
            document.getElementById('searchInput').addEventListener('input', (e) => {
                searchProducts(e.target.value);
            });
            
            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
            document.getElementById('themeToggle').addEventListener('click', function() {
                isLightTheme = !isLightTheme;
                document.body.classList.toggle('light-theme', isLightTheme);
                this.innerHTML = isLightTheme ? 
                    '<i class="fas fa-sun"></i><span>–¢–µ–º–∞</span>' : 
                    '<i class="fas fa-moon"></i><span>–¢–µ–º–∞</span>';
                localStorage.setItem('theme', isLightTheme ? 'light' : 'dark');
            });
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é —Ç–µ–º—É
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'light') {
                isLightTheme = true;
                document.body.classList.add('light-theme');
                document.getElementById('themeToggle').innerHTML = '<i class="fas fa-sun"></i><span>–¢–µ–º–∞</span>';
            }
            
            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º—É–∑—ã–∫–∏
            const music = document.getElementById('backgroundMusic');
            document.getElementById('musicToggle').addEventListener('click', function() {
                isMusicPlaying = !isMusicPlaying;
                if (isMusicPlaying) {
                    music.play().catch(e => console.log('–ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ'));
                    this.innerHTML = '<i class="fas fa-volume-up"></i><span>–ú—É–∑—ã–∫–∞</span>';
                    this.style.background = 'rgba(0, 255, 204, 0.3)';
                } else {
                    music.pause();
                    this.innerHTML = '<i class="fas fa-volume-mute"></i><span>–ú—É–∑—ã–∫–∞</span>';
                    this.style.background = 'rgba(255, 0, 204, 0.1)';
                }
                localStorage.setItem('music', isMusicPlaying ? 'on' : 'off');
            });
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º—É–∑—ã–∫–∏
            const savedMusic = localStorage.getItem('music');
            if (savedMusic === 'on') {
                isMusicPlaying = true;
                music.play().catch(e => console.log('–ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ'));
                document.getElementById('musicToggle').innerHTML = '<i class="fas fa-volume-up"></i><span>–ú—É–∑—ã–∫–∞</span>';
                document.getElementById('musicToggle').style.background = 'rgba(0, 255, 204, 0.3)';
            }
            
            // –ê–Ω–∏–º–∏—Ä—É–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            setTimeout(() => {
                document.getElementById('ordersCount').textContent = '562';
                document.getElementById('clientsCount').textContent = '341';
                document.getElementById('avgTime').textContent = '3-10';
            }, 1000);
            
            // –ö–Ω–æ–ø–∫–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞
            document.getElementById('checkoutBtn').addEventListener('click', function() {
                if (products.filter(p => p.quantity > 0).length === 0) return;
                
                // –°–∫—Ä—ã–≤–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É
                document.querySelector('.cart-section').style.display = 'none';
                document.querySelector('.history-section').style.display = 'none';
                document.getElementById('checkoutForm').style.display = 'block';
                
                // –ó–∞–ø–æ–ª–Ω—è–µ–º –¥–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞
                let orderDetails = '–í–∞—à –∑–∞–∫–∞–∑:\n';
                const cart = products.filter(p => p.quantity > 0);
                cart.forEach(item => {
                    orderDetails += `${item.name} √ó ${item.quantity} —à—Ç. = ${item.price * item.quantity} ‚ÇΩ\n`;
                });
                const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                orderDetails += `\n–ò—Ç–æ–≥–æ: ${total} ‚ÇΩ`;
                
                document.getElementById('orderDetails').value = orderDetails;
                
                // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ —Ñ–æ—Ä–º–µ
                document.getElementById('checkoutForm').scrollIntoView({ behavior: 'smooth' });
            });
            
            // –ö–Ω–æ–ø–∫–∞ "–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –∫–æ—Ä–∑–∏–Ω—É"
            document.getElementById('backToCart').addEventListener('click', function() {
                document.getElementById('checkoutForm').style.display = 'none';
                document.querySelector('.cart-section').style.display = 'block';
                document.querySelector('.history-section').style.display = 'block';
                document.querySelector('.cart-section').scrollIntoView({ behavior: 'smooth' });
            });
            
            // –ú–∞—Å–∫–∞ –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞
            document.getElementById('phone').addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.startsWith('7') || value.startsWith('8')) {
                    value = '+7 ' + value.substring(1, 4) + ' ' + value.substring(4, 7) + '-' + 
                            value.substring(7, 9) + '-' + value.substring(9, 11);
                }
                e.target.value = value.trim();
            });
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∫–æ—Ä–∑–∏–Ω—É
            updateCart();
        });
        
        // –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
        function createConfetti() {
            const colors = ['#ff00cc', '#3333ff', '#00ffcc', '#ffff00'];
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                document.body.appendChild(confetti);
                
                const animation = confetti.animate([
                    { top: '0px', opacity: 1, transform: `rotate(0deg)` },
                    { top: '100vh', opacity: 0, transform: `rotate(${Math.random() * 720}deg)` }
                ], {
                    duration: 2000 + Math.random() * 2000,
                    easing: 'cubic-bezier(0.1, 0.8, 0.9, 0.1)'
                });
                
                animation.onfinish = () => confetti.remove();
            }
        }
        
        // –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–∫–∞–∑–∞
        document.getElementById('orderForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–ø—á–∏
            if (!validateCaptcha()) {
                showNotification('‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥ –ø—Ä–æ–≤–µ—Ä–∫–∏', 'error');
                document.getElementById('captchaInput').focus();
                return;
            }
            
            const nickname = document.getElementById('nickname').value.trim();
            const telegram = document.getElementById('telegram').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const payment = document.querySelector('input[name="payment"]:checked').value;
            const orderDetails = document.getElementById('orderDetails').value;
            
            if (!nickname) {
                showNotification('‚ùå –í–≤–µ–¥–∏—Ç–µ –≤–∞—à –Ω–∏–∫ –≤ –∏–≥—Ä–µ', 'error');
                document.getElementById('nickname').focus();
                return;
            }
            
            if (!telegram) {
                showNotification('‚ùå –í–≤–µ–¥–∏—Ç–µ –≤–∞—à Telegram –¥–ª—è —Å–≤—è–∑–∏', 'error');
                document.getElementById('telegram').focus();
                return;
            }
            
            document.getElementById('loader').style.display = 'block';
            
            // –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–∞
            const cart = products.filter(p => p.quantity > 0);
            const totalAmount = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const orderId = 'ORD' + Date.now().toString().slice(-8);
            
            // –°–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è Telegram
            const telegramMessage = `–ù–û–í–´–ô –ó–ê–ö–ê–ó –° –°–ê–ô–¢–ê!\n\n` +
                                   `üÜî –ù–æ–º–µ—Ä: ${orderId}\n` +
                                   `üë§ –ö–ª–∏–µ–Ω—Ç: ${nickname}\n` +
                                   `üì± Telegram: ${telegram}\n` +
                                   `üìû –¢–µ–ª–µ—Ñ–æ–Ω: ${phone || '–ù–µ —É–∫–∞–∑–∞–Ω'}\n` +
                                   `üí≥ –û–ø–ª–∞—Ç–∞: ${getPaymentMethod(payment)}\n\n` +
                                   `üõí –ó–ê–ö–ê–ó:\n${orderDetails}\n\n` +
                                   `üïê –í—Ä–µ–º—è: ${new Date().toLocaleString('ru-RU')}`;
            
            try {
                const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: YOUR_CHAT_ID,
                        text: telegramMessage
                    })
                });
                
                const result = await response.json();
                
                if (result.ok) {
                    createConfetti();
                    document.getElementById('loader').style.display = 'none';
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
                    saveOrderToHistory({
                        id: orderId,
                        items: cart.map(item => ({
                            name: item.name,
                            quantity: item.quantity,
                            price: item.price
                        })),
                        total: totalAmount,
                        nickname: nickname,
                        timestamp: Date.now()
                    });
                    
                    showNotification(`‚úÖ –ó–∞–∫–∞–∑ ${orderId} –æ—Ñ–æ—Ä–º–ª–µ–Ω! –° –≤–∞–º–∏ —Å–≤—è–∂—É—Ç—Å—è –≤ Telegram.`, 'success');
                    
                    // –û—á–∏—â–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É
                    products.forEach(p => p.quantity = 0);
                    updateCart();
                    saveCartToStorage();
                    
                    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–∞ –≥–ª–∞–≤–Ω—É—é
                    setTimeout(() => {
                        document.getElementById('checkoutForm').style.display = 'none';
                        document.querySelector('.cart-section').style.display = 'block';
                        document.querySelector('.history-section').style.display = 'block';
                        document.querySelector('.cart-section').scrollIntoView({ behavior: 'smooth' });
                        document.getElementById('orderForm').reset();
                        updateCaptcha();
                    }, 3000);
                    
                } else {
                    throw new Error(result.description || '–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–∫–∞–∑–∞');
                }
            } catch (error) {
                document.getElementById('loader').style.display = 'none';
                showNotification(`‚ùå –û—à–∏–±–∫–∞: ${error.message}. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.`, 'error');
                updateCaptcha();
            }
        });
        
        function getPaymentMethod(method) {
            const methods = {
                'card': '–ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞',
                'qiwi': 'QIWI –∫–æ—à–µ–ª–µ–∫',
                'crypto': '–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞'
            };
            return methods[method] || method;
        }
        
        function showNotification(text, type) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? 'rgba(0,255,204,0.95)' : 'rgba(255,0,102,0.95)'};
                color: #0a0a0a;
                padding: 15px 25px;
                border-radius: 10px;
                z-index: 10000;
                box-shadow: 0 5px 15px rgba(0,0,0,0.3);
                animation: slideIn 0.3s ease;
                max-width: 400px;
                border-left: 4px solid ${type === 'success' ? '#00cc99' : '#ff0033'};
                display: flex;
                align-items: center;
                gap: 10px;
            `;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-triangle'}" 
                   style="font-size: 1.2rem;"></i>
                <div>${text}</div>
            `;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 5000);
        }
        
        // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
